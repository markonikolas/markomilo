import InfiniteMenu from"./infiniteMenu.js";jQuery(".page-template-poetry").length&&new InfiniteMenu(document.querySelector("nav.main-navigation"));const setActiveNavItem=t=>{const e=document.querySelectorAll(".menu-item__link");e.forEach(e=>{e.parentNode.classList.remove("current-menu-item"),e.getAttribute("data-barba-link")===t&&e.parentNode.classList.add("current-menu-item")})},createCurtain=()=>{const e=document.createElement("div");return e.classList.add("curtain"),e},curtain=createCurtain();console.log(curtain),barba.init({schema:{prefix:"data-barba",wrapper:"wrapper"},transitions:[{name:"custom-opacity-transition",beforeLeave(e){return document.body.appendChild(curtain),document.body.classList.add("transition"),gsap.fromTo(curtain,{opacity:0,y:"100%",duration:.5,ease:"expo.out"},{opacity:1,y:0,ease:"expo.out"})},leave(e){return gsap.to(e.current.container,{opacity:0,x:100,duration:.25})},afterLeave(e){return gsap.to(e.current.container,{display:"none"})},beforeEnter(e){gsap.to(curtain,{opacity:0,y:"100%",duration:.5}),setActiveNavItem(e.next.namespace),window.scrollTo({top:0})},afterEnter(e){return document.body.classList.remove("transition"),gsap.from(e.next.container,{opacity:0,x:100,duration:.25})}}]});